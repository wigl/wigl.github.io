---
layout: post
title:  "Alamofire"
date:   2017-01-14 00:00:00
categories: 第三方框架
excerpt: 
---

* content
{:toc}

#### 框架结构

<body><div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;toolbar&quot;:&quot;zoom layers lightbox&quot;,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile userAgent=\&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.95 Safari/537.36\&quot; version=\&quot;6.5.6\&quot; editor=\&quot;www.draw.io\&quot; type=\&quot;github\&quot;&gt;&lt;diagram name=\&quot;Page-1\&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
<script type="text/javascript" src="https://www.draw.io/js/viewer.min.js"></script>
</body>


#### URLSessionConfiguration

URLSession 在初始化时会把配置它的 URLSessionConfiguration 对象进行一次 copy，并保存到自己的 configuration 属性中，而且这个属性是只读的。因此之后再修改最初配置 session 的那个 configuration 对象对于 session 是没有影响的。也就是说，configuration 只在初始化时被读取一次，之后都是不会变化的。